{# journal/templates/_pagination.html #}
{% macro render_pagination(pagination, endpoint, params) -%}
  {% if pagination and pagination.pages > 1 %}
  <nav class="pagination" aria-label="Pagination">
    {% if pagination.has_prev %}
      <a href="{{ url_for(endpoint, page=pagination.prev_num, **params) }}">&laquo; Prev</a>
    {% else %}
      <span class="disabled">&laquo; Prev</span>
    {% endif %}

    {# simple 1..N pager; switch to a windowed pager later if N is large #}
    {% for p in range(1, pagination.pages + 1) %}
      {% if p == pagination.page %}
        <span class="active">{{ p }}</span>
      {% else %}
        <a href="{{ url_for(endpoint, page=p, **params) }}">{{ p }}</a>
      {% endif %}
    {% endfor %}

    {% if pagination.has_next %}
      <a href="{{ url_for(endpoint, page=pagination.next_num, **params) }}">Next &raquo;</a>
    {% else %}
      <span class="disabled">Next &raquo;</span>
    {% endif %}
  </nav>
  {% endif %}
{%- endmacro %}
